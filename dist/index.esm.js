function t(t){try{var e=t.match(/^[A-Z]+(?=\()/);if(!e)return void console.log("wkt数据格式不对,没有解析到type");var r=e[0],n=void 0;if("POINT"===r){if(!(o=t.match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g)))return void console.log("没有解析到POINT的坐标");n={type:"Point",coordinates:u=o[0].split(" ").map(Number)}}else if("LINESTRING"===r){if(!(o=t.match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g)))return void console.log("没有解析到LINESTRING的坐标");var i=[];o.forEach((function(t){i.push(t.split(" ").map(Number))})),n={type:"LineString",coordinates:i}}else if("MULTIPOINT"===r){var o;if(!(o=t.match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g)))return void console.log("没有解析到MULTIPOINT的坐标");var s=[];o.forEach((function(t){s.push(t.split(" ").map(Number))})),n={type:"MultiPoint",coordinates:s}}else if("POLYGON"===r){for(var l=t.split(/,(?=\()/),u=[],a=function(t){var e=l[t].match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g);if(!e)return console.log("没有解析到POLYGON的坐标"),{value:void 0};var r=[];e.forEach((function(t){r.push(t.split(" ").map(Number))})),u.push(r)},h=0;h<l.length;h++){var f=a(h);if("object"==typeof f)return f.value}n={type:"Polygon",coordinates:u}}else if("MULTILINESTRING"===r){l=t.split(/,(?=\()/),u=[];var p=function(t){var e=l[t].match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g);if(!e)return console.log("没有解析到MULTILINESTRING的坐标"),{value:void 0};var r=[];e.forEach((function(t){r.push(t.split(" ").map(Number))})),u.push(r)};for(h=0;h<l.length;h++){var c=p(h);if("object"==typeof c)return c.value}n={type:"MultiLineString",coordinates:u}}else if("MULTIPOLYGON"===r){var g=t.split(/,(?=\(\()/);for(u=[],h=0;h<g.length;h++){for(var y=g[h].split(/,(?=\()/),v=[],x=function(t){var e=y[t].match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g);if(!e)return console.log("没有解析到MULTIPOLYGON的坐标"),{value:void 0};var r=[];e.forEach((function(t){r.push(t.split(" ").map(Number))})),v.push(r)},d=0;d<y.length;d++){var m=x(d);if("object"==typeof m)return m.value}u.push(v)}n={type:"MultiPolygon",coordinates:u}}return n}catch(t){console.log("格式解析出错",t)}}function e(t){if(!t)return console.log("没有geojson数据"),"";var e=t.type;if(!e)return console.log("数据中没有type"),"";if("string"!=typeof e)return console.log("数据中的type不是字符串"),"";var r=t.coordinates;if(!r)return console.log("数据中没有coordinates"),"";if(!(r instanceof Array))return console.log("数据的coordinates不是数组"),"";if(0===r.length)return console.log("数据的coordinates是空的"),"";var n=[];switch(e.toUpperCase()){case"POINT":if(r.length<2)return console.log("type为Point的coordinates格式不对--\x3e",r),"";for(var i=0;i<r.length;i++)if("number"!=typeof r[i]||isNaN(r[i]))return console.log("type为Point的coordinates格式不对--\x3e",r[i]),"";n.push(r.slice(0,2).join(" "));break;case"LINESTRING":case"MULTIPOINT":for(i=0;i<r.length;i++){var o=r[i];if(!(o instanceof Array)||o.length<2)return console.log("type为MultiPoint或LineString的coordinates格式不对--\x3e",o),"";for(var s=0;s<o.length;s++)if("number"!=typeof o[s]||isNaN(o[s]))return console.log("type为MultiPoint或LineString的coordinates格式不对--\x3e",o[s]),"";n.push(o.slice(0,2).join(" "))}break;case"POLYGON":case"MULTILINESTRING":for(i=0;i<r.length;i++){var l=[];if(!((a=r[i])instanceof Array))return console.log("type为Polygon或MultiLineString的coordinates格式不对--\x3e",a),"";for(s=0;s<a.length;s++){if(!((f=a[s])instanceof Array)||f.length<2)return console.log("type为Polygon或MultiLineString的coordinates格式不对--\x3e",f),"";for(var u=0;u<f.length;u++)if("number"!=typeof f[u]||isNaN(f[u]))return console.log("type为Polygon或MultiLineString的coordinates格式不对--\x3e",f[u]),"";l.push(f.slice(0,2).join(" "))}n.push("(".concat(l.join(","),")"))}break;case"MULTIPOLYGON":for(i=0;i<r.length;i++){var a,h=[];if(!((a=r[i])instanceof Array))return console.log("type为MultiPolygon的coordinates格式不对--\x3e",a),"";for(s=0;s<a.length;s++){var f;l=[];if(!((f=a[s])instanceof Array))return console.log("type为MultiPolygon的coordinates格式不对--\x3e",f),"";for(u=0;u<f.length;u++){var p=f[u];if(!(p instanceof Array)||p.length<2)return console.log("type为MultiPolygon的coordinates格式不对--\x3e",p),"";for(var c=0;c<p.length;c++)if("number"!=typeof p[c]||isNaN(p[c]))return console.log("type为Polygon或MultiLineString的coordinates格式不对--\x3e",p[c]),"";l.push(p.slice(0,2).join(" "))}h.push("(".concat(l.join(","),")"))}n.push("(".concat(h.join(","),")"))}break;default:return console.log("这个geojson中的type值好像不太对--\x3e type: ".concat(e)),""}return"".concat(e.toUpperCase(),"(").concat(n.join(","),")")}function r(t){var r=[];if(!t)return console.log("type为GeometryCollection的数据没有geometries--\x3e",t),"";if(!(t instanceof Array))return console.log("type为GeometryCollection的数据中geometries不是数组--\x3e",t),"";for(var n=0;n<t.length;n++)r.push(e(t[n]));return r.join(",")}function n(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function o(t){return"Feature"===t.type?t.geometry:t}
/**
 * splaytree v3.1.2
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function s(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var l=function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null};function u(t,e){return t>e?1:t<e?-1:0}function a(t,e,r){for(var n=new l(null,null),i=n,o=n;;){var s=r(t,e.key);if(s<0){if(null===e.left)break;if(r(t,e.left.key)<0){var u=e.left;if(e.left=u.right,u.right=e,null===(e=u).left)break}o.left=e,o=e,e=e.left}else{if(!(s>0))break;if(null===e.right)break;if(r(t,e.right.key)>0){u=e.right;if(e.right=u.left,u.left=e,null===(e=u).right)break}i.right=e,i=e,e=e.right}}return i.right=e.left,o.left=e.right,e.left=n.right,e.right=n.left,e}function h(t,e,r,n){var i=new l(t,e);if(null===r)return i.left=i.right=null,i;var o=n(t,(r=a(t,r,n)).key);return o<0?(i.left=r.left,i.right=r,r.left=null):o>=0&&(i.right=r.right,i.left=r,r.right=null),i}function f(t,e,r){var n=null,i=null;if(e){var o=r((e=a(t,e,r)).key,t);0===o?(n=e.left,i=e.right):o<0?(i=e.right,e.right=null,n=e):(n=e.left,e.left=null,i=e)}return{left:n,right:i}}function p(t,e,r,n,i){if(t){n(e+(r?"└── ":"├── ")+i(t)+"\n");var o=e+(r?"    ":"│   ");t.left&&p(t.left,o,!1,n,i),t.right&&p(t.right,o,!0,n,i)}}var c=function(){function t(t){void 0===t&&(t=u),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=h(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var r=new l(t,e);null===this._root&&(r.left=r.right=null,this._size++,this._root=r);var n=this._comparator,i=a(t,this._root,n),o=n(t,i.key);return 0===o?this._root=i:(o<0?(r.left=i.left,r.right=i,i.left=null):o>0&&(r.right=i.right,r.left=i,i.right=null),this._size++,this._root=r),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,r){var n;return null===e?null:0===r(t,(e=a(t,e,r)).key)?(null===e.left?n=e.right:(n=a(t,e.left,r)).right=e.right,this._size--,n):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=a(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return e;e=n<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=a(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var r=this._root,n=[],i=!1;!i;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),t.call(e,r),r=r.right):i=!0;return this},t.prototype.range=function(t,e,r,n){for(var i=[],o=this._comparator,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&r.call(n,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(e){var r=e.key;return t.push(r)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(e){var r=e.data;return t.push(r)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,r=!1,n=0,i=[];!r;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),n===t)return e;n++,e=e.right}else r=!0;return null},t.prototype.next=function(t){var e=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r}for(var n=this._comparator;e;){var i=n(t.key,e.key);if(0===i)break;i<0?(r=e,e=e.left):e=e.right}return r},t.prototype.prev=function(t){var e=this._root,r=null;if(null!==t.left){for(r=t.left;r.right;)r=r.right;return r}for(var n=this._comparator;e;){var i=n(t.key,e.key);if(0===i)break;i<0?e=e.left:(r=e,e=e.right)}return r},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){var e=t,r=[],n=!1,i=new l(null,null),o=i;for(;!n;)e?(r.push(e),e=e.left):r.length>0?e=(e=o=o.next=r.pop()).right:n=!0;return o.next=null,i.next}(this._root)},t.prototype.load=function(t,e,r){void 0===e&&(e=[]),void 0===r&&(r=!1);var n=t.length,i=this._comparator;if(r&&v(t,e,0,n-1,i),null===this._root)this._root=g(t,e,0,n),this._size=n;else{var o=function(t,e,r){var n=new l(null,null),i=n,o=t,s=e;for(;null!==o&&null!==s;)r(o.key,s.key)<0?(i.next=o,o=o.next):(i.next=s,s=s.next),i=i.next;null!==o?i.next=o:null!==s&&(i.next=s);return n.next}(this.toList(),function(t,e){for(var r=new l(null,null),n=r,i=0;i<t.length;i++)n=n.next=new l(t[i],e[i]);return n.next=null,r.next}(t,e),i);n=this._size+n,this._root=y({head:o},0,n)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return p(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},t.prototype.update=function(t,e,r){var n=this._comparator,i=f(t,this._root,n),o=i.left,s=i.right;n(t,e)<0?s=h(e,r,s,n):o=h(e,r,o,n),this._root=function(t,e,r){return null===e?t:(null===t||((e=a(t.key,e,r)).left=t),e)}(o,s,n)},t.prototype.split=function(t){return f(t,this._root,this._comparator)},t.prototype[Symbol.iterator]=function(){var t,e,r;return s(this,(function(n){switch(n.label){case 0:t=this._root,e=[],r=!1,n.label=1;case 1:return r?[3,6]:null===t?[3,2]:(e.push(t),t=t.left,[3,5]);case 2:return 0===e.length?[3,4]:[4,t=e.pop()];case 3:return n.sent(),t=t.right,[3,5];case 4:r=!0,n.label=5;case 5:return[3,1];case 6:return[2]}}))},t}();function g(t,e,r,n){var i=n-r;if(i>0){var o=r+Math.floor(i/2),s=t[o],u=e[o],a=new l(s,u);return a.left=g(t,e,r,o),a.right=g(t,e,o+1,n),a}return null}function y(t,e,r){var n=r-e;if(n>0){var i=e+Math.floor(n/2),o=y(t,e,i),s=t.head;return s.left=o,t.head=t.head.next,s.right=y(t,i+1,r),s}return null}function v(t,e,r,n,i){if(!(r>=n)){for(var o=t[r+n>>1],s=r-1,l=n+1;;){do{s++}while(i(t[s],o)<0);do{l--}while(i(t[l],o)>0);if(s>=l)break;var u=t[s];t[s]=t[l],t[l]=u,u=e[s],e[s]=e[l],e[l]=u}v(t,e,r,l,i),v(t,e,l+1,n,i)}}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e,r){return e&&d(t.prototype,e),r&&d(t,r),t}var b=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},E=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var r=t.ll.x<e.ll.x?e.ll.x:t.ll.x,n=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:r,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:n,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},S=Number.EPSILON;void 0===S&&(S=Math.pow(2,-52));var w=S*S,_=function(t,e){if(-S<t&&t<S&&-S<e&&e<S)return 0;var r=t-e;return r*r<w*t*e?0:t<e?-1:1},k=function(){function t(){x(this,t),this.reset()}return m(t,[{key:"reset",value:function(){this.xRounder=new I,this.yRounder=new I}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),t}(),I=function(){function t(){x(this,t),this.tree=new c,this.round(0)}return m(t,[{key:"round",value:function(t){var e=this.tree.add(t),r=this.tree.prev(e);if(null!==r&&0===_(e.key,r.key))return this.tree.remove(t),r.key;var n=this.tree.next(e);return null!==n&&0===_(e.key,n.key)?(this.tree.remove(t),n.key):t}}]),t}(),P=new k,L=function(t,e){return t.x*e.y-t.y*e.x},N=function(t,e){return t.x*e.x+t.y*e.y},R=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},i={x:r.x-t.x,y:r.y-t.y},o=L(n,i);return _(o,0)},O=function(t){return Math.sqrt(N(t,t))},T=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},i={x:r.x-t.x,y:r.y-t.y};return N(i,n)/O(i)/O(n)},M=function(t,e,r){return 0===e.y?null:{x:t.x+e.x/e.y*(r-t.y),y:r}},A=function(t,e,r){return 0===e.x?null:{x:r,y:t.y+e.y/e.x*(r-t.x)}},C=function(){function t(e,r){x(this,t),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=r}return m(t,null,[{key:"compare",value:function(e,r){var n=t.comparePoints(e.point,r.point);return 0!==n?n:(e.point!==r.point&&e.link(r),e.isLeft!==r.isLeft?e.isLeft?1:-1:U.compare(e.segment,r.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),m(t,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,r=0,n=e.length;r<n;r++){var i=e[r];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var r=this.point.events[e];if(void 0===r.segment.consumedBy)for(var n=e+1;n<t;n++){var i=this.point.events[n];void 0===i.consumedBy&&(r.otherSE.point.events===i.otherSE.point.events&&r.segment.consume(i.segment))}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,r=this.point.events.length;e<r;e++){var n=this.point.events[e];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,r=new Map,n=function(n){var i,o,s,l,u,a=n.otherSE;r.set(n,{sine:(i=e.point,o=t.point,s=a.point,l={x:o.x-i.x,y:o.y-i.y},u={x:s.x-i.x,y:s.y-i.y},L(u,l)/O(u)/O(l)),cosine:T(e.point,t.point,a.point)})};return function(t,e){r.has(t)||n(t),r.has(e)||n(e);var i=r.get(t),o=i.sine,s=i.cosine,l=r.get(e),u=l.sine,a=l.cosine;return o>=0&&u>=0?s<a?1:s>a?-1:0:o<0&&u<0?s<a?-1:s>a?1:0:u<o?-1:u>o?1:0}}}]),t}(),G=0,U=function(){function t(e,r,n,i){x(this,t),this.id=++G,this.leftSE=e,e.segment=this,e.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=e,this.rings=n,this.windings=i}return m(t,null,[{key:"compare",value:function(t,e){var r=t.leftSE.point.x,n=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o<r)return 1;if(i<n)return-1;var s=t.leftSE.point.y,l=e.leftSE.point.y,u=t.rightSE.point.y,a=e.rightSE.point.y;if(r<n){if(l<s&&l<u)return 1;if(l>s&&l>u)return-1;var h=t.comparePoint(e.leftSE.point);if(h<0)return 1;if(h>0)return-1;var f=e.comparePoint(t.rightSE.point);return 0!==f?f:-1}if(r>n){if(s<l&&s<a)return-1;if(s>l&&s>a)return 1;var p=e.comparePoint(t.leftSE.point);if(0!==p)return p;var c=t.comparePoint(e.rightSE.point);return c<0?1:c>0?-1:1}if(s<l)return-1;if(s>l)return 1;if(i<o){var g=e.comparePoint(t.rightSE.point);if(0!==g)return g}if(i>o){var y=t.comparePoint(e.rightSE.point);if(y<0)return 1;if(y>0)return-1}if(i!==o){var v=u-s,x=i-r,d=a-l,m=o-n;if(v>x&&d<m)return 1;if(v<x&&d>m)return-1}return i>o?1:i<o||u<a?-1:u>a?1:t.id<e.id?-1:t.id>e.id?1:0}}]),m(t,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,r=this.rightSE.point,n=this.vector();if(e.x===r.x)return t.x===e.x?0:t.x<e.x?1:-1;var i=(t.y-e.y)/n.y,o=e.x+i*n.x;if(t.x===o)return 0;var s=(t.x-e.x)/n.x,l=e.y+s*n.y;return t.y===l?0:t.y<l?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),r=t.bbox(),n=E(e,r);if(null===n)return null;var i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,l=t.rightSE.point,u=b(e,s)&&0===this.comparePoint(s),a=b(r,i)&&0===t.comparePoint(i),h=b(e,l)&&0===this.comparePoint(l),f=b(r,o)&&0===t.comparePoint(o);if(a&&u)return f&&!h?o:!f&&h?l:null;if(a)return h&&i.x===l.x&&i.y===l.y?null:i;if(u)return f&&o.x===s.x&&o.y===s.y?null:s;if(f&&h)return null;if(f)return o;if(h)return l;var p=function(t,e,r,n){if(0===e.x)return A(r,n,t.x);if(0===n.x)return A(t,e,r.x);if(0===e.y)return M(r,n,t.y);if(0===n.y)return M(t,e,r.y);var i=L(e,n);if(0==i)return null;var o={x:r.x-t.x,y:r.y-t.y},s=L(o,e)/i,l=L(o,n)/i;return{x:(t.x+l*e.x+(r.x+s*n.x))/2,y:(t.y+l*e.y+(r.y+s*n.y))/2}}(i,this.vector(),s,t.vector());return null===p?null:b(n,p)?P.round(p.x,p.y):null}},{key:"split",value:function(e){var r=[],n=void 0!==e.events,i=new C(e,!0),o=new C(e,!1),s=this.rightSE;this.replaceRightSE(o),r.push(o),r.push(i);var l=new t(i,s,this.rings.slice(),this.windings.slice());return C.comparePoints(l.leftSE.point,l.rightSE.point)>0&&l.swapEvents(),C.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(i.checkForConsuming(),o.checkForConsuming()),r}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,r=this.windings.length;e<r;e++)this.windings[e]*=-1}},{key:"consume",value:function(e){for(var r=this,n=e;r.consumedBy;)r=r.consumedBy;for(;n.consumedBy;)n=n.consumedBy;var i=t.compare(r,n);if(0!==i){if(i>0){var o=r;r=n,n=o}if(r.prev===n){var s=r;r=n,n=s}for(var l=0,u=n.rings.length;l<u;l++){var a=n.rings[l],h=n.windings[l],f=r.rings.indexOf(a);-1===f?(r.rings.push(a),r.windings.push(h)):r.windings[f]+=h}n.rings=null,n.windings=null,n.consumedBy=r,n.leftSE.consumedBy=r.leftSE,n.rightSE.consumedBy=r.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,r=this._afterState.windings,n=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var s=this.rings[i],l=this.windings[i],u=e.indexOf(s);-1===u?(e.push(s),r.push(l)):r[u]+=l}for(var a=[],h=[],f=0,p=e.length;f<p;f++)if(0!==r[f]){var c=e[f],g=c.poly;if(-1===h.indexOf(g))if(c.isExterior)a.push(g);else{-1===h.indexOf(g)&&h.push(g);var y=a.indexOf(c.poly);-1!==y&&a.splice(y,1)}}for(var v=0,x=a.length;v<x;v++){var d=a[v].multiPoly;-1===n.indexOf(d)&&n.push(d)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(X.type){case"union":var r=0===t.length,n=0===e.length;this._isInResult=r!==n;break;case"intersection":var i,o;t.length<e.length?(i=t.length,o=e.length):(i=e.length,o=t.length),this._isInResult=o===X.numMultiPolys&&i<o;break;case"xor":var s=Math.abs(t.length-e.length);this._isInResult=s%2==1;break;case"difference":var l=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=l(t)!==l(e);break;default:throw new Error("Unrecognized operation type found ".concat(X.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,r,n){var i,o,s,l=C.comparePoints(e,r);if(l<0)i=e,o=r,s=1;else{if(!(l>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));i=r,o=e,s=-1}return new t(new C(i,!0),new C(o,!1),[n],[s])}}]),t}(),j=function(){function t(e,r,n){if(x(this,t),!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=n,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=P.round(e[0][0],e[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var o=i,s=1,l=e.length;s<l;s++){if("number"!=typeof e[s][0]||"number"!=typeof e[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=P.round(e[s][0],e[s][1]);u.x===o.x&&u.y===o.y||(this.segments.push(U.fromRing(o,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),o=u)}i.x===o.x&&i.y===o.y||this.segments.push(U.fromRing(o,i,this))}return m(t,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.segments.length;e<r;e++){var n=this.segments[e];t.push(n.leftSE),t.push(n.rightSE)}return t}}]),t}(),F=function(){function t(e,r){if(x(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new j(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var n=1,i=e.length;n<i;n++){var o=new j(e[n],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=r}return m(t,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,r=this.interiorRings.length;e<r;e++)for(var n=this.interiorRings[e].getSweepEvents(),i=0,o=n.length;i<o;i++)t.push(n[i]);return t}}]),t}(),Y=function(){function t(e,r){if(x(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var n=0,i=e.length;n<i;n++){var o=new F(e[n],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=r}return m(t,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++)for(var n=this.polys[e].getSweepEvents(),i=0,o=n.length;i<o;i++)t.push(n[i]);return t}}]),t}(),z=function(){function t(e){x(this,t),this.events=e;for(var r=0,n=e.length;r<n;r++)e[r].segment.ringOut=this;this.poly=null}return m(t,null,[{key:"factory",value:function(e){for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n];if(o.isInResult()&&!o.ringOut){for(var s=null,l=o.leftSE,u=o.rightSE,a=[l],h=l.point,f=[];s=l,l=u,a.push(l),l.point!==h;)for(;;){var p=l.getAvailableLinkedEvents();if(0===p.length){var c=a[0].point,g=a[a.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(c.x,",")+" ".concat(c.y,"]. Last matching segment found ends at")+" [".concat(g.x,", ").concat(g.y,"]."))}if(1===p.length){u=p[0].otherSE;break}for(var y=null,v=0,x=f.length;v<x;v++)if(f[v].point===l.point){y=v;break}if(null===y){f.push({index:a.length,point:l.point});var d=l.getLeftmostComparator(s);u=p.sort(d)[0].otherSE;break}var m=f.splice(y)[0],b=a.splice(m.index);b.unshift(b[0].otherSE),r.push(new t(b.reverse()))}r.push(new t(a))}}return r}}]),m(t,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],r=1,n=this.events.length-1;r<n;r++){var i=this.events[r].point,o=this.events[r+1].point;0!==R(i,t,o)&&(e.push(i),t=i)}if(1===e.length)return null;var s=e[0],l=e[1];0===R(s,t,l)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,a=this.isExteriorRing()?0:e.length-1,h=this.isExteriorRing()?e.length:-1,f=[],p=a;p!=h;p+=u)f.push([e[p].x,e[p].y]);return f}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,r=this.events.length;e<r;e++){var n=this.events[e];C.compare(t,n)>0&&(t=n)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),t}(),B=function(){function t(e){x(this,t),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return m(t,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,r=this.interiorRings.length;e<r;e++){var n=this.interiorRings[e].getGeom();null!==n&&t.push(n)}return t}}]),t}(),q=function(){function t(e){x(this,t),this.rings=e,this.polys=this._composePolys(e)}return m(t,[{key:"getGeom",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++){var n=this.polys[e].getGeom();null!==n&&t.push(n)}return t}},{key:"_composePolys",value:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(!i.poly)if(i.isExteriorRing())e.push(new B(i));else{var o=i.enclosingRing();o.poly||e.push(new B(o)),o.poly.addInterior(i)}}return e}}]),t}(),Z=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U.compare;x(this,t),this.queue=e,this.tree=new c(r),this.segments=[]}return m(t,[{key:"process",value:function(t){var e=t.segment,r=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),r;var n=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!n)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=n,o=n,s=void 0,l=void 0;void 0===s;)null===(i=this.tree.prev(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);for(;void 0===l;)null===(o=this.tree.next(o))?l=null:void 0===o.key.consumedBy&&(l=o.key);if(t.isLeft){var u=null;if(s){var a=s.getIntersection(e);if(null!==a&&(e.isAnEndpoint(a)||(u=a),!s.isAnEndpoint(a)))for(var h=this._splitSafely(s,a),f=0,p=h.length;f<p;f++)r.push(h[f])}var c=null;if(l){var g=l.getIntersection(e);if(null!==g&&(e.isAnEndpoint(g)||(c=g),!l.isAnEndpoint(g)))for(var y=this._splitSafely(l,g),v=0,x=y.length;v<x;v++)r.push(y[v])}if(null!==u||null!==c){var d=null;if(null===u)d=c;else if(null===c)d=u;else{d=C.comparePoints(u,c)<=0?u:c}this.queue.remove(e.rightSE),r.push(e.rightSE);for(var m=e.split(d),b=0,E=m.length;b<E;b++)r.push(m[b])}r.length>0?(this.tree.remove(e),r.push(t)):(this.segments.push(e),e.prev=s)}else{if(s&&l){var S=s.getIntersection(l);if(null!==S){if(!s.isAnEndpoint(S))for(var w=this._splitSafely(s,S),_=0,k=w.length;_<k;_++)r.push(w[_]);if(!l.isAnEndpoint(S))for(var I=this._splitSafely(l,S),P=0,L=I.length;P<L;P++)r.push(I[P])}}this.tree.remove(e)}return r}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var r=t.rightSE;this.queue.remove(r);var n=t.split(e);return n.push(r),void 0===t.consumedBy&&this.tree.insert(t),n}}]),t}(),V="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,W="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,X=new(function(){function t(){x(this,t)}return m(t,[{key:"run",value:function(t,e,r){X.type=t,P.reset();for(var n=[new Y(e,!0)],i=0,o=r.length;i<o;i++)n.push(new Y(r[i],!1));if(X.numMultiPolys=n.length,"difference"===X.type)for(var s=n[0],l=1;l<n.length;)null!==E(n[l].bbox,s.bbox)?l++:n.splice(l,1);if("intersection"===X.type)for(var u=0,a=n.length;u<a;u++)for(var h=n[u],f=u+1,p=n.length;f<p;f++)if(null===E(h.bbox,n[f].bbox))return[];for(var g=new c(C.compare),y=0,v=n.length;y<v;y++)for(var x=n[y].getSweepEvents(),d=0,m=x.length;d<m;d++)if(g.insert(x[d]),g.size>V)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var b=new Z(g),S=g.size,w=g.pop();w;){var _=w.key;if(g.size===S){var k=_.segment;throw new Error("Unable to pop() ".concat(_.isLeft?"left":"right"," SweepEvent ")+"[".concat(_.point.x,", ").concat(_.point.y,"] from segment #").concat(k.id," ")+"[".concat(k.leftSE.point.x,", ").concat(k.leftSE.point.y,"] -> ")+"[".concat(k.rightSE.point.x,", ").concat(k.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(g.size>V)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(b.segments.length>W)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var I=b.process(_),L=0,N=I.length;L<N;L++){var R=I[L];void 0===R.consumedBy&&g.insert(R)}S=g.size,w=g.pop()}P.reset();var O=z.factory(b.segments);return new q(O).getGeom()}}]),t}()),Q={union:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return X.run("union",t,r)},intersection:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return X.run("intersection",t,r)},xor:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return X.run("xor",t,r)},difference:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return X.run("difference",t,r)}};function D(t,e,r){void 0===r&&(r={});var n=o(t),s=o(e),l=Q.union(n.coordinates,s.coordinates);return 0===l.length?null:1===l.length?function(t,e,r){void 0===r&&(r={});for(var n=0,o=t;n<o.length;n++){var s=o[n];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var l=0;l<s[s.length-1].length;l++)if(s[s.length-1][l]!==s[0][l])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:t},e,r)}(l[0],r.properties):function(t,e,r){return void 0===r&&(r={}),i({type:"MultiPolygon",coordinates:t},e,r)}(l,r.properties)}function H(t){var e,r,i=t.geometries.map((function(t){return{type:"Feature",geometry:t}})),o=i.shift();try{for(var s=n(i),l=s.next();!l.done;l=s.next()){o=D(o,l.value)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o}function J(t){var e=[],r=[[73,3],[136,3],[136,54],[73,54],[73,3]],n=t.geometry;if("polygon"===n.type.toLowerCase())n.coordinates.forEach((function(t,n){0===n?e.push([r,t]):e.push(t)}));else{if("multipolygon"!==n.type.toLowerCase())return;var i=[r];n.coordinates.forEach((function(t){t.length>1?t.forEach((function(t,r){0===r?i.push(t):e.push([t])})):i.push(t[0])})),e.unshift(i)}return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:e},properties:{}}}var K={geojsonToWkt:function(t){if(!t)return console.log("没有geojson数据"),"";var n=t.type;if(!n)return console.log("这个geojson没有type"),"";if("string"!=typeof n)return console.log("这个geojson的type不是字符串"),"";if(["POINT","LINESTRING","POLYGON","MULTIPOINT","MULTILINESTRING","MULTIPOLYGON"].includes(n.toUpperCase()))return e(t);if("FEATURE"===n.toUpperCase()){if(!(a=t.geometry))return console.log("type为Feature的数据没有geometry--\x3e",t),"";if("GEOMETRYCOLLECTION"===a.type.toUpperCase()){var i=a.geometries;return"GEOMETRYCOLLECTION(".concat(r(i),")")}return e(a)}if("GEOMETRYCOLLECTION"===n.toUpperCase()){var o=r(i=t.geometries);return"GEOMETRYCOLLECTION(".concat(o,")")}if("FEATURECOLLECTION"===n.toUpperCase()){var s=[],l=t.features;if(!l)return console.log("type为FeatureCollection的数据没有features--\x3e",t),"";if(!(l instanceof Array))return console.log("type为FeatureCollection的数据中features不是数组--\x3e",t),"";for(var u=0;u<l.length;u++){var a,h=l[u],f=h.type;if(!f)return console.log("这个feature没有type--\x3e",h),"";if("string"!=typeof f)return console.log("这个feature的type不是字符串--\x3e",h),"";if(!(a=h.geometry))return console.log("这个feature没有geometry--\x3e",h),"";if("GEOMETRYCOLLECTION"===a.type.toUpperCase()){i=a.geometries;s.push(r(i))}else s.push(e(a))}return"GEOMETRYCOLLECTION(".concat(s.join(","),")")}return console.log("这个geojson的type值好像不太对--\x3e type: ".concat(n)),""},wktToGeojson:function(e){console.log(e);try{var r=(e=e.replaceAll("\n"," ").replaceAll(/\s+/g," ").replaceAll(" ,",",").replaceAll(", ",",").replaceAll(" (","(").replaceAll("( ","(").replaceAll(" )",")").replaceAll(") ",")").toUpperCase()).match(/^[A-Z]+(?=\()/);if(!r)return void console.log("wkt数据格式不对,没有解析到type");var n=r[0];if("GEOMETRYCOLLECTION"===n){for(var i=(e=e.substring(19,e.length-1)).split(/,(?=[A-Z]+)/),o=[],s=0;s<i.length;s++){if(!(l=t(i[s])))return;o.push({type:"Feature",geometry:l,properties:{}})}return{type:"FeatureCollection",features:o}}if((i=e.split(/,(?=[A-Z]+)/)).length>1){for(o=[],s=0;s<i.length;s++){if(!(l=t(i[s])))return;o.push({type:"Feature",geometry:l,properties:{}})}return{type:"FeatureCollection",features:o}}if(["POINT","LINESTRING","POLYGON","MULTIPOINT","MULTILINESTRING","MULTIPOLYGON"].includes(n)){var l;if(!(l=t(e)))return;return{type:"Feature",geometry:l}}return void console.log("wkt数据的type不太对--\x3e",n)}catch(t){console.log("格式解析出错",t)}},createMaskPolygon:function(t){var e,r;if(t){var i=t.type;if(i){var o=i.toLowerCase();try{if("featurecollection"===o){var s=t.features,l=[];s.forEach((function(t){if("geometrycollection"===t.geometry.type.toLowerCase()){var e=H(t.geometry);l.push(e)}else l.push(t)}));var u=l.shift();try{for(var a=n(l),h=a.next();!h.done;h=a.next()){u=D(u,h.value)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return J(u)}if("feature"===o){var f=t.geometry;return"geometrycollection"===f.type.toLowerCase()?J(u=H(f)):J(t)}return J({type:"Feature",geometry:t,properties:{}})}catch(t){console.log("生成遮罩发生错误",t)}}else console.log("没有解析到type")}else console.log("没有geojson数据")}};export{K as default};
