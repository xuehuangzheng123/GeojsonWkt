function e(e){try{var t=e.match(/^[A-Z]+(?=\()/)[0],n=void 0;if("POINT"===t)n={type:"Point",coordinates:(o=e.match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g))[0].split(" ").map(Number)};else if("LINESTRING"===t){var o=e.match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g),r=[];null==o||o.forEach((function(e){r.push(e.split(" ").map(Number))})),n={type:"LineString",coordinates:r}}else if("MULTIPOINT"===t){o=e.match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g);var a=[];null==o||o.forEach((function(e){a.push(e.split(" ").map(Number))})),n={type:"MultiPoint",coordinates:a}}else if("POLYGON"===t){var c=e.split(/,(?=\()/),i=[];c.forEach((function(e){var t=e.match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g),n=[];null==t||t.forEach((function(e){n.push(e.split(" ").map(Number))})),i.push(n)})),n={type:"Polygon",coordinates:i}}else if("MULTILINESTRING"===t){c=e.split(/,(?=\()/);var s=[];c.forEach((function(e){var t=e.match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g),n=[];null==t||t.forEach((function(e){n.push(e.split(" ").map(Number))})),s.push(n)})),n={type:"MultiLineString",coordinates:s}}else if("MULTIPOLYGON"===t){var l=e.split(/,(?=\(\()/),u=[];l.forEach((function(e){var t=e.split(/,(?=\()/);console.log(t);var n=[];t.forEach((function(e){var t=e.match(/(-*\d+\.*\d*\s-*\d+\.*\d*)/g),o=[];null==t||t.forEach((function(e){o.push(e.split(" ").map(Number))})),n.push(o)})),u.push(n)})),n={type:"MultiPolygon",coordinates:u}}return n}catch(e){console.log("格式解析出错",e)}}function t(t){try{var n=(t=t.replaceAll("\n","").replaceAll("  ","").replaceAll(" ,",",").replaceAll(", ",",").replaceAll(" (","(").replaceAll("( ","(").replaceAll(" )",")").replaceAll(") ",")")).match(/^[A-Z]+(?=\()/)[0];if(["POINT","LINESTRING","POLYGON","MULTIPOINT","MULTILINESTRING","MULTIPOLYGON"].includes(n))return{type:"Feature",geometry:e(t)};if("GEOMETRYCOLLECTION"===n){var o=(t=t.substring(19,t.length-1)).split(/,(?=[A-Z]+)/),r=[];return o.forEach((function(t){r.push({type:"Feature",geometry:e(t)})})),{type:"FeatureCollection",features:r}}}catch(e){console.log("格式解析出错",e)}}function n(e){var t=e.type,n=e.coordinates,o=[];switch(t.toUpperCase()){case"POINT":o.push(n.slice(0,2).join(" "));break;case"LINESTRING":case"MULTIPOINT":n.forEach((function(e){e instanceof Array&&o.push(e.slice(0,2).join(" "))}));break;case"POLYGON":case"MULTILINESTRING":n.forEach((function(e){var t=[];e instanceof Array&&e.forEach((function(e){e instanceof Array&&t.push(e.slice(0,2).join(" "))})),o.push("(".concat(t.join(","),")"))}));break;case"MULTIPOLYGON":n.forEach((function(e){var t=[];e instanceof Array&&e.forEach((function(e){var n=[];e instanceof Array&&e.forEach((function(e){e instanceof Array&&n.push(e.slice(0,2).join(" "))})),t.push("(".concat(n.join(","),")"))})),o.push("(".concat(t.join(","),")"))}))}return"".concat(t.toUpperCase(),"(").concat(o.join(","),")")}function o(e){var t,o;if(["POINT","LINESTRING","POLYGON","MULTIPOINT","MULTILINESTRING","MULTIPOLYGON"].includes(e.type.toUpperCase()))return n(e);if("FEATURE"===e.type.toUpperCase())return n(e.geometry);if("GEOMETRYCOLLECTION"===e.type.toUpperCase()){var r=[];return null===(t=e.geometries)||void 0===t||t.forEach((function(e){r.push(n(e))})),"GEOMETRYCOLLECTION(".concat(r.join(","),")")}if("FEATURECOLLECTION"===e.type.toUpperCase()){var a=[];return null===(o=e.features)||void 0===o||o.forEach((function(e){a.push(n(e.geometry))})),"GEOMETRYCOLLECTION(".concat(a.join(","),")")}console.log("geojson没有type")}export{o as geojsonToWkt,t as wktToGeojson};
